{% extends "base.html" %}
{% block content %}
<div class="recipe-container">
    <div class="row recipe-head center-align">
        {% if session.user | lower == recipe.author or session.user | lower == "admin" %}
        <a href="{{ url_for('edit_recipe', recipe_id=recipe._id) }}" class="waves-effect waves-light btn-small">Edit</a>
        {% endif %}
        <div class="col s12 l6">
            <img src="{{ recipe.image }}" width="100%" alt="recipe header image" > 
        </div>
        <div class="col s12 l6">
            <div>
                <div>
                    {{ recipe.recipe_name }}
                </div>
                <div>
                    {{ recipe.author }}
                </div>
            </div>
            <div class="row">
                <div class="col s6">
                    <p>Prep  {{ recipe.prep_time }} </p>
                    <p>Cook  {{ recipe.cook_time }}</p>
                </div>
                <div class="col s6">
                    <p> servings</p>
                    <p>{{ recipe.servings }}</p>
                </div>
            </div>
        </div>
    </div>
    <hr>
    <div class="row">
        <div class="col s12">
            {{ recipe.description }}
        </div>
    </div>
    <div class="row">
        <ul class="tabs">
            <li class="tab col s6"><a class="active" href="#ingredients">Ingredients</a></li>
            <li class="tab col s6"><a  href="#method">Method</a></li>
          </ul>
          <div id="ingredients" class="col s12">
              <ul class="collection">
                {% for ingredient in recipe.ingredients %}
                    <li class="collection-item">
                        <label>
                        <input class="ingregient-checkbox" type="checkbox" name="{{ingredient}}"/>    
                        <span class="ingredient-text">{{ ingredient }}</span>
                        </label>
                    </li>            
                {% endfor %}
            </ul>
        </div>
          <div id="method" class="col s12">
            <ol class="collection">
                {% for step in recipe.steps %}
                    <li>
                        <input type="radio" id="step-{{ loop.index }}" name="step-check">
                        <label for="step-{{ loop.index }}">
                            <span class="collection-item">{{ step }}</span>
                        </label>
                    </li>
                {% endfor %}
            </ol>
          </div>
    </div>
    <div class="row comment-section">
        <div class="col">
            <h5>Comments</h5>
        {{ recipe.comments }}
        </div>

    </div>
</div>
{% endblock %}
